(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{314:function(t,e,n){"use strict";var r,o,c,l=n(32);n(1);o=!1,r=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.args,r=e.callback,c=e.method,d=void 0===c?"debug":c;o||((t=console)[d].apply(t,Object(l.a)(n)),"function"==typeof r&&r());return n[n.length-1]},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r({args:e})},c.breakpoint=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r({args:e,callback:function(){}})},["log","warn","debug","error"].forEach((function(t){return c[t]=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r({args:n,method:t})}})),c.disable=function(){return o=!0},e.a=c},325:function(t,e,n){var content=n(584);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(107).default)("4111a9d2",content,!0,{sourceMap:!1})},372:function(t,e,n){"use strict";(function(t){n(5),n(4),n(2),n(1),n(6),n(3),n(7);var r=n(33),o=n(0),c=(n(85),n(587)),l=(n(315),n(314));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=function(){var e,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=o.polygonAPIurl,y=void 0===d?"https://ideality.app/api/polygon":d,h=o.templatesDatabaseId,m=void 0===h?"068baa7841324cc682aa3eb7cad4bd8c":h,v=o.upvotesDatabaseId,w=void 0===v?t.env.POLYGON_UPVOTES_DB_ID:v,k=o.openAIkey,O=void 0===k?t.env.OPENAI_KEY:k,x=o.defaultParameters,j=void 0===x?{}:x,I=o.spent,S=o.vm,A=o.vmKey;return e=c.a.create({baseURL:y}),console.log("Polygon client initialized",{polygonAPIurl:y,templatesDatabaseId:m,upvotesDatabaseId:w,openAIkey:O,defaultParameters:j}),{spent:I,run:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return console.log("Running",t,{variables:r,parameters:o}),e.post("/run",{databaseId:m,slug:t,openAIkey:O,variables:r,parameters:f(f({},j),o)}).then((function(t){var data=t.data;return Object(l.a)("USD spent",n.spent+=data.approximateCost),S&&(S[A]=n.spent),data}))},generate:(n=Object(r.a)(regeneratorRuntime.mark((function t(n,input){var data,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Generating",n,input),t.next=3,e.post("/generate",{outputKeys:n,input:input,openAIkey:O});case 3:return r=t.sent,data=r.data,t.abrupt("return",Object(l.a)("Generated:",data));case 6:case"end":return t.stop()}}),t)}))),function(t,e){return n.apply(this,arguments)}),upvote:function(t){return console.log("Upvoting",t),e.post("/upvote",{databaseId:w,generationId:t}).then((function(t){return t.data}))}}}}).call(this,n(174))},379:function(t,e,n){"use strict";n(5),n(4),n(2),n(6),n(3),n(7);var r=n(380),o=n(386),c=n(388),l=n(389),d=n(390);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){o(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}n(1),n(85),Object.defineProperty(e,"__esModule",{value:!0});var h="https://ideality.app/api/polygon";function m(){return v.apply(this,arguments)}function v(){return v=d(regeneratorRuntime.mark((function t(){var e,n,body,r,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:h,n=o.length>1?o[1]:void 0,body=o.length>2?o[2]:void 0,t.next=5,fetch(e+n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(body)});case 5:if(!(r=t.sent).ok){t.next=10;break}return t.abrupt("return",r.json());case 10:throw new Error(r.statusText);case 11:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}var w=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,t),this.lastMeta=null,this.config=y({usdSpent:0,parameters:{}},e)}var e,n,o;return l(t,[{key:"usdSpent",get:function(){return this.config.usdSpent},set:function(t){this.config.usdSpent=t}},{key:"run",value:(o=d(regeneratorRuntime.mark((function t(e){var n,r,o,c,data,l,d,f=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=f.length>2&&void 0!==f[2]?f[2]:{},o=f.length>3&&void 0!==f[3]?f[3]:{},c=Object.assign({},this.config,o),t.next=6,m(c.apiUrl,"/run",{databaseId:c.templatesDatabaseId,slug:e,openAIkey:c.openaiKey,variables:n,parameters:y(y({},c.parameters),r)});case 6:return data=t.sent,l=data.approximateCost,d=data.tokenCount,this.usdSpent+=l,this.lastMeta={approximateCost:l,tokenCount:d},t.abrupt("return",data);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"generate",value:(n=d(regeneratorRuntime.mark((function t(e){var n,o,c,l,d,input,f,y,h,v,w,k,data,O,x,j,I=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=I.length>1&&void 0!==I[1]?I[1]:null,o=I.length>2&&void 0!==I[2]?I[2]:{},c="string"==typeof e||Array.isArray(e),l=r(c?[e,n,o]:["",e,n],3),d=l[0],input=l[1],f=l[2],y=Object.assign({},this.config,f),h=y.specs,v=y.examples,w=y.parameters,k=y.retries,c||(null==h?void 0:h.outputKeys)){t.next=8;break}throw new Error("You must either pass in an outputKeys parameter, or instantiate Magic with { specs: { outputKeys: [...] } }");case 8:return t.next=10,m(y.apiUrl,"/generate",{outputKeys:d,input:input,openAIkey:y.openaiKey,specs:h,examples:v,parameters:w,retries:k});case 10:return data=t.sent,O=data._meta||data,x=O.approximateCost,j=O.tokenCount,this.usdSpent+=x,this.lastMeta={approximateCost:x,tokenCount:j},t.abrupt("return",data._meta?data:data.choices);case 15:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"upvote",value:(e=d(regeneratorRuntime.mark((function t(e){var n,r,data,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=Object.assign({},this.config,n),t.next=4,m(r.apiUrl,"/upvote",{databaseId:r.upvotesDatabaseId,generationId:e});case 4:return data=t.sent,t.abrupt("return",data);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t(e)}},{key:"generate",value:function(e,input){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new t(n).generate(e,input)}}]),t}();e.default=w},583:function(t,e,n){"use strict";n(325)},584:function(t,e,n){var r=n(106)(!1);r.push([t.i,".strong{font-weight:400}",""]),t.exports=r},588:function(t,e,n){"use strict";n.r(e);n(4),n(72),n(2),n(1);var r=n(33),o=(n(85),n(52),n(11),n(21),n(14),n(15),n(39),n(73),n(114),n(20),n(69),n(49),n(328),n(330),n(337),n(339),n(340),n(341),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(17),n(364),n(40),n(0)),c=n(34),l=n(28),d=(n(3),n(27),n(5),n(6),n(7),n(367)),f=n(314),y=n(315),h=n.n(y);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function k(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O,x,j={data:function(){return{whilst:{}}},methods:{actionPromise:function(t){var e;return null!=(e=this.whilst[t])?e:Promise.resolve()},try:(O=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var r,o,c,l,track,d,f,y,h,m,v,w=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=w.length>2&&void 0!==w[2]?w[2]:{},o=r.errorMessage,c=r.except,l=r.track,track=void 0===l||l,d=r.mixpanelProps,track&&(y=this.mixpanel),this[e]=!0,m=null,h=null,this.whilst[e]=new Promise((function(t,e){return m=t,h=e})),t.prev=6,console.log("Started ".concat(e)),null!=y&&y.track("".concat(e," started"),d),t.t0=m,t.next=12,n.call(this);case 12:return t.t1=v=t.sent,(0,t.t0)(t.t1),null!=y&&y.track("".concat(e," succeeded"),d),t.abrupt("return",v);case 18:return t.prev=18,t.t2=t.catch(6),f=t.t2,console.error("Error while ".concat(e,": ").concat(f)),null!=y&&y.track("".concat(e," failed"),k({error:f.message},d)),"function"==typeof o&&(o=o(f)),this.alert(o),"function"==typeof c&&c(f),t.abrupt("return",h(f));case 27:return t.prev=27,this[e]=!1,console.log("Finished ".concat(e)),t.finish(27);case 31:case"end":return t.stop()}}),t,this,[[6,18,27,31]])}))),function(t,e){return O.apply(this,arguments)}),alert:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong.";return this.$bvToast.toast("See console for error details.",{title:t,variant:"danger",solid:!0,autoHideDelay:5e3})}}},I=n(391),S=n.n(I),A=(n(369),n(371)),P=n.n(A),C=n(372),_=n(379),K=n.n(_);x=[{product:"Tweet scheduler",caption:"Tweet generator",description:"Imagine youâ€™re building a tweet scheduler. You can get your userâ€™s bio via the Twitter API, and use it to generate an engaging tweet for them.",outputKeys:["tweet","topicSuggestions"],input:{bio:"Iâ€™m an indie hacker who likes to build things and is passionate about cats, running, and the outdoors.",topic:"life philosophy",commentary:"topicSuggestions means other topics they can tweet about based on their bio"}},{product:"Blogging platform",caption:"Article title, intro & outline",description:"Imagine youâ€™re building a blogging platform and you want to help your users overcome writerâ€™s block. You give your users an input field to enter a topic, and then use this API to generate a title, intro and outline for their article.",outputKeys:["title","intro","outline"],input:{topic:"functional programming",commentary:"outline must be a nested bullet list in markdown format."}},{product:"Voice modulation app",caption:"Sarcastic quotes",description:"Imagine youâ€™re building a vocie modulation app that allows users to speak in celebrity voices. You can use this API to suggest them a celebrity and a quote based on a topic.",outputKeys:["sarcasticQuote","actor"],input:{topic:"life philosophy",commentary:"actor should be a celebrity with a recognizable voice."}}];var E,D={mixins:[function(){var t,e,n,r,y,m,w,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=k.prefix,x=k.keys,j=k.format,I=void 0===j?"json":j,S=k.mergeObjects,A=void 0===S||S;return Object(f.a)("Exporting syncLocal mixin with arguments: ".concat(JSON.stringify(arguments[0]))),"yaml"===I?(y=d.a.load,n=d.a.dump):(y=JSON.parse,n=JSON.stringify),w=null,t=function(t,e){return"object"===Object(l.a)(e)&&null!==e?y(t||null):"number"==typeof e?parseFloat(t||null):"boolean"==typeof e?"boolean"==typeof t?t:"true"===t:t||null},m=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(h.a.identity).join(".")},Object(f.a)("Using data paths:",e=x.reduce((function(t,e){var n;if(h.a.isArray(e)){var r=e,l=Object(c.a)(r,2);e=l[0],n=l[1].dataPath}return Object.assign(t,Object(o.a)({},e,m(n,e)))}),{})),Object(f.a)("Converted keys back to plain strings:",x=x.map((function(t){return h.a.isArray(t)?t[0]:t}))),Object(f.a)("Using local keys:",r=x.reduce((function(t,e){return Object.assign(t,Object(o.a)({},e,m(O,e)))}),{})),{data:function(){return{syncLocal:{promise:new Promise((function(t){return w=t})),values:null,loaded:!1,ignoreWatchers:[]}}},mounted:function(){var n=this;return x.forEach((function(o){var c,l,d;if(Object(f.a)("Syncing key ".concat(o," from local storage for component ").concat(n.$options.name)),Object(f.a)("Local value:",d=window.localStorage.getItem(r[o])),c=e[o],void 0===(l=h.a.get(n,c)))throw new Error("Default value for key `".concat(o,"` does not exist at `").concat(c,"`"));return console.log({key:o,localValue:d,defaultValue:l}),d=t(d,l),h.a.set(n,c,Object(f.a)("Setting ".concat(o," at ").concat(c," to:"),h.a.isObject(l)&&!h.a.isArray(l)&&A?v(v({},l),d):d||l))})),this.$nextTick((function(){return Object.assign(n.syncLocal,{values:h.a.mapValues(e,(function(t){return h.a.get(n,t)})),loaded:!0}),w(n.syncLocal.values)}))},watch:v({},x.reduce((function(t,e){return Object.assign(t,Object(o.a)({},e,{deep:!0,handler:function(t){var o;return this.syncLocal.loaded?(o=r[e],window.localStorage.setItem(o,"object"===Object(l.a)(t)?n(t):t),Object(f.a)("Saved ".concat(e," to local storage as ").concat(o)),this.syncLocal.ignoreWatchers=h.a.without(this.syncLocal.ignoreWatchers,e)):this.syncLocal.ignoreWatchers.push(e)}}))}),{}))}}({keys:["outputKeys","input","openAIkey","format","exampleProduct"],format:"yaml",prefix:"polygon",mergeObjects:!1}),j],data:function(){return{justCopied:!1,showExampleDescription:!0,showOpenAIkey:!1,showOpenAIkeyEntry:!1,generatingExample:!1,exampleProduct:"",examples:x,pickedExample:x[0],outputKeys:x[0].outputKeys,newOutputKey:"",input:x[0].input,openAIkey:"",generated:"",justGenerated:!1,formats:["js","js (axios)","js (fetch)","curl"],languageForFormat:{js:"javascript","js (fetch)":"javascript","js (axios)":"javascript",curl:"bash"},format:"js",generating:!1,oldFocused:null,newInputKey:"",mixpanelId:null}},created:function(){var t=this;return P.a.init("c8582487f9e7686276f47de40ab7a5a2",{loaded:function(e){return Object(f.a)("mixpanel loaded with distinct id",t.mixpanelId=e.get_distinct_id()),e.track("page view",{page:"demo"})}})},computed:{magic:function(){return new K.a({openaiKey:this.openAIkey,apiUrl:"https://ideality.app/api/polygon"})},polygon:function(){return new C.a({openAIkey:this.openAIkey,vm:this})},inputValid:function(){return h.a.keys(this.input).length>0&&h.a.every(this.input,(function(t){return t.length>0}))},code:function(){var t;switch(t=function(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return s.replace(/^( +)"([^"]+)":/gm,(function(e,n,r){return"".concat(n).concat(t).concat(r,":")})).replace(/^( *)}$/gm,(function(e,n){return"".concat(n).concat(t,"}")}))},this.format){case"js":return"// npm install almostmagic\n\nimport Magic from 'almostmagic' // <-- for es6\n// const { Magic } = require('almostmagic') // <-- for node, note the destructuring\n\nMagic.generate(\n  ".concat(JSON.stringify(this.outputKeys),",\n  ").concat(t(JSON.stringify(this.input,null,2),"  "),",\n  { openaiKey: ").concat(JSON.stringify(this.openAIkey)," }\n).then(console.log)");case"js (fetch)":return"await(\n  await(\n    fetch('".concat("https://ideality.app/api/polygon","/generate', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        outputKeys: ").concat(JSON.stringify(this.outputKeys),",\n        input: ").concat(t(JSON.stringify(this.input,null,2),"        "),",\n        openAIkey: ").concat(JSON.stringify(this.openAIkey),"\n      })\n    })\n  )\n).json()");case"js (axios)":return"( await(axios.post('".concat("https://ideality.app/api/polygon","/generate', {\n  outputKeys: ").concat(JSON.stringify(this.outputKeys),",\n  input: ").concat(t(JSON.stringify(this.input,null,2),"  "),",\n  openAIkey: ").concat(JSON.stringify(this.openAIkey),"\n})) ).data");case"curl":return'curl -X POST \\\n  -H "Content-Type: application/json" \\\n  -d \'{"outputKeys": '.concat(JSON.stringify(this.outputKeys),', "input": ').concat(JSON.stringify(this.input),', "openAIkey": ').concat(JSON.stringify(this.openAIkey),"}' \\\n  ").concat("https://ideality.app/api/polygon","/generate")}},obfuscatedCode:function(){var t;return null!=(t=this.code)?t.replace(/sk-\w+/g,"sk-<your key here>"):void 0}},methods:{generateExample:function(){return this.try("generatingExample",Object(r.a)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P.a.track("generate example"),t.next=3,this.magic.generate(h.a.keys(h.a.last(this.examples)),this.exampleProduct,{specs:{description:"Generate ideas on how to use AI. The idea should only involve text generations (no images, no need to fetch external data, etc.)"},examples:this.examples.map((function(t){return{input:e.exampleProduct?t.product:void 0,output:e.exampleProduct?h.a.omit(t,"product"):t}}))});case 3:return t.abrupt("return",this.pickedExample=t.sent);case 4:case"end":return t.stop()}}),t,this)}))))},deleteInput:function(t){if(window.confirm("Are you sure you want to delete '".concat(t,"'? THERE IS NO UNDO!")))return delete this.input[t],this.input=h.a.clone(this.input)},addInput:function(){if(this.newInputKey)return this.newInputKey=h.a.camelCase(this.newInputKey),this.input[this.newInputKey]="",this.newInputKey="",this.input=h.a.clone(this.input)},focusAndSelect:function(element){return this.oldFocused=document.activeElement,element.focus(),element.select()},returnFocus:function(){var t;return null!=(t=this.oldFocused)&&t.focus(),this.oldFocused=null},renameInput:function(t,e){if(e){if(!this.input[e])return this.input[e]=this.input[t],delete this.input[t],this.input=h.a.clone(this.input);this.$bvToast.toast("This key already exists",{title:"Error",variant:"danger",autoHideDelay:3e3,solid:!0})}},addOutputKey:function(){if(this.newOutputKey)return this.outputKeys.push(h.a.camelCase(this.newOutputKey)),this.newOutputKey=""},copyToClipboard:function(){var t=this;return window.navigator.clipboard.writeText(this.code),this.justCopied=!0,setTimeout((function(){return t.justCopied=!1}),1e3)},generate:function(t,input){return t&&(this.outputKeys=t),input&&(this.input=input),this.try("generating",Object(r.a)(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.magic.generate(this.outputKeys,this.input);case 2:return e=t.sent,this.generated=JSON.stringify(e,null,2),this.$nextTick((function(){return n.$refs.generated.activate()})),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))))}},watch:{showOpenAIkey:function(t){var e=this;if(t)return setTimeout((function(){return e.showOpenAIkey=!1}),3e3)},pickedExample:function(){if(!this.syncLocal.ignoreWatchers.includes("pickedExample")){this.generated=null;var t=this.pickedExample;return this.outputKeys=t.outputKeys,this.input=t.input,P.a.track("picked example",this.pickedExample)}},generated:function(){var t=this;return this.justGenerated=!0,setTimeout((function(){return t.justGenerated=!1}),500),this.$nextTick((function(){return S.a.highlightAll()}))},code:function(){return this.$nextTick((function(){return S.a.highlightAll()}))},openAIkey:(E=Object(r.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e.slice(0,e.length/2),o=(new TextEncoder).encode(e),t.next=4,crypto.subtle.digest("SHA-256",o);case 4:return r=t.sent,n=Array.from(new Uint8Array(r)),t.abrupt("return",n.map((function(b){return b.toString(16).padStart(2,"0")})).join(""));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(e);case 2:return n=t.sent,this.keyHash!==this.mixpanelId&&(P.a.track("key changed",{keyHash:n}),P.a.identify(n)),t.abrupt("return",this.magic.config.openaiKey=e);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return E.apply(this,arguments)})},mounted:function(){return h.a.assign(window,{Magic:K.a,magic:this.magic})}},T=D,z=(n(583),n(79)),component=Object(z.a)(T,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column justify-content-center align-items-center",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.shiftKey?(e.preventDefault(),t.generate()):null}}},[e("b-container",[t.$route.query.iframed?t._e():e("b-row",{staticClass:"justify-content-center align-items-center"},[e("img",{staticClass:"m-2",staticStyle:{width:"100px",height:"100px"},attrs:{src:"almostmagic.png",alt:"Magic. Almost!"}}),e("h1",{staticClass:"display-3 mt-3 text-center",staticStyle:{"font-size":"2em"}},[e("strong",[t._v("AlmostMagic.  ")]),t._v("Add AI ðŸª„ to your app with one line of code")])]),e("b-row",{staticClass:"lead pb-2 my-2 border-bottom justify-content-center align-items-center"},[t._l(t.examples,(function(n,r){return e("b-button",{key:n.caption,staticClass:"mx-1 text-muted",staticStyle:{cursor:"pointer"},attrs:{variant:t.pickedExample===n?"outline-secondary":"light",size:"sm",id:"example-"+r},on:{click:function(e){t.pickedExample=n,t.generated=!1}}},[e("span",[t._v(t._s(n.caption))])])})),e("b-button",{staticStyle:{cursor:"pointer"},attrs:{variant:"light",size:"sm",id:"example-random"},on:{click:t.generateExample}},[t.generatingExample?e("b-spinner",{attrs:{small:"",type:"grow",variant:"primary"}}):e("strong",[t._v("ðŸ’¡")])],1),e("b-popover",{attrs:{target:"example-random",triggers:"hover",placement:"bottom"}},[e("p",{staticClass:"lead"},[t._v("Letâ€™s come up with something especially for you!")]),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.generateExample.apply(null,arguments)}}},[e("b-form-group",{attrs:{label:"What is your product?"}},[e("b-input",{staticStyle:{"font-size":"0.8em"},attrs:{placeholder:"an app for cats who love to code"},model:{value:t.exampleProduct,callback:function(e){t.exampleProduct=e},expression:"exampleProduct"}})],1),e("b-button",{attrs:{variant:t.generatingExample?"outline-secondary":"primary",disabled:t.generatingExample},on:{click:t.generateExample}},[t._v(t._s(t.generatingExample?"Generating...":t.exampleProduct?"Generate":"Iâ€™m feeling lucky"))])],1)],1)],2),e("b-row",{staticClass:"justify-content-center align-items-center",staticStyle:{"font-size":"0.8em"}},[e("b-alert",{attrs:{show:t.showExampleDescription,dismissible:""},on:{dismissed:function(e){t.showExampleDescription=!1}}},[e("h2",{staticClass:"lead strong mb-3",staticStyle:{"font-size":"1.5em"}},[e("strong",[t._v(t._s(t.pickedExample.caption)+"  ")]),t._v("for a  "),e("strong",[t._v(t._s(t.pickedExample.product&&t.pickedExample.product.toLowerCase()))])]),t._v(t._s(t.pickedExample.description))])],1),e("b-row",{staticClass:"justify-content-between mt-2"},[e("b-col",{staticClass:"mt-2 col-12 col-md-7"},[e("h3",{staticClass:"lead strong"},[t._v("Inputs")]),e("small",{staticClass:"form-text text-muted mb-2",staticStyle:{"font-size":"0.8em"}},[t._v("What do you want the user to enter, or what data will you obtain programmatically?")]),e("div",{staticClass:"d-flex flex-wrap align-items-center",staticStyle:{"font-size":"0.8em"}},[t._l(t.input,(function(n,r){return e("b-input-group",{key:r,staticClass:"my-1"},[e("b-input-group-prepend",{attrs:{id:"for-"+r}},[e("b-input-group-text",[e("strong",[t._v(t._s(r))])])],1),e("b-popover",{attrs:{target:"for-"+r,triggers:"hover",placement:"bottom"},on:{shown:function(e){return t.focusAndSelect(t.$refs["newKey-"+r][0])},hidden:t.returnFocus}},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.renameInput(r,t.$refs["newKey-"+r][0].vModelValue)}}},[e("b-input-group",{attrs:{size:"sm"}},[e("b-input",{ref:"newKey-"+r,refInFor:!0,attrs:{value:r}}),e("b-input-group-append",[e("b-button",{attrs:{type:"submit",variant:"outline-secondary"}},[e("b-icon-check")],1)],1)],1)],1)],1),e("b-input",{staticClass:"pt-1",attrs:{placeholder:"Input value to test the API"},model:{value:t.input[r],callback:function(e){t.$set(t.input,r,e)},expression:"input[key]"}}),e("b-input-group-append",[e("b-button",{staticClass:"rounded-right",staticStyle:{"font-size":"1em","border-color":"#ced4da","border-left":"0"},attrs:{variant:"outline-secondary",title:"Delete"},on:{click:function(e){return t.deleteInput(r)}}},[e("b-icon-trash",{staticStyle:{width:"0.6em"}})],1)],1),e("b-form-invalid-feedback",{attrs:{state:!!t.input[r]}},[t._v("Please add a value")])],1)})),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.addInput.apply(null,arguments)}}},[e("b-input-group",{staticClass:"mt-1",staticStyle:{width:"150px"}},[e("b-input",{attrs:{placeholder:"What else?"},model:{value:t.newInputKey,callback:function(e){t.newInputKey=e},expression:"newInputKey"}}),e("b-input-group-append",[e("b-button",{attrs:{type:"submit",variant:"outline-secondary",disabled:!t.newInputKey}},[e("b-icon-plus")],1)],1)],1)],1)],2),e("h3",{staticClass:"lead strong mt-3"},[t._v("Outputs")]),e("small",{staticClass:"form-text text-muted mb-2",staticStyle:{"font-size":"0.8em"}},[t._v("What keys do you want the API to return? Make them as self-explanatory as possible.")]),e("div",{staticClass:"d-flex flex-wrap align-items-center"},[t._l(t.outputKeys,(function(n){return e("div",{key:n,staticClass:"input-group-text my-1 mr-2"},[e("strong",[t._v(t._s(n))]),e("b-button",{staticClass:"text-muted px-1",staticStyle:{background:"transparent",border:"none"},attrs:{size:"sm",variant:"light"},on:{click:function(e){t.outputKeys=t.outputKeys.filter((function(t){return t!==n}))}}},[e("b-icon-x-circle",{staticStyle:{width:"0.6em"}})],1)],1)})),e("b-input",{staticStyle:{width:"120px"},attrs:{placeholder:"What else?"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addOutputKey.apply(null,arguments))},blur:t.addOutputKey},model:{value:t.newOutputKey,callback:function(e){t.newOutputKey=e},expression:"newOutputKey"}})],2),e("b-form-invalid-feedback",{attrs:{state:t.outputKeys.length>0}},[t._v("Please add at least one thing to generate")]),!t.openAIkey||t.showOpenAIkeyEntry?e("b-alert",{staticClass:"m-3",attrs:{variant:t.openAIkey?"info":"warning",show:"",dismissible:!!t.openAIkey},on:{dismissed:function(e){t.showOpenAIkeyEntry=!1}}},[e("b-form-group",{staticClass:"text-muted",staticStyle:{"font-size":"0.8em"},attrs:{label:"OpenAI API key"},scopedSlots:t._u([{key:"description",fn:function(){return[t._v("We donâ€™t store "),e("a",{attrs:{href:"https://beta.openai.com/account/api-keys",target:"_blank"}},[t._v("your key")]),t._v(", itâ€™s only used to make requests to OpenAIâ€™s API."),e("b-form-invalid-feedback",{attrs:{state:!!t.openAIkey}},[t._v("Please add your OpenAI API key")])]},proxy:!0}],null,!1,3405356672)},[e("b-input-group",[e("b-input",{staticStyle:{"font-size":"1em"},attrs:{type:t.showOpenAIkey?"text":"password",placeholder:"sk-..."},model:{value:t.openAIkey,callback:function(e){t.openAIkey=e},expression:"openAIkey"}}),e("b-input-group-append",[e("b-button",{staticStyle:{"font-size":"0.8em"},attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){t.showOpenAIkey=!t.showOpenAIkey}}},[e("b-icon",{staticStyle:{width:"0.8em"},attrs:{icon:t.showOpenAIkey?"eye-slash":"eye"}})],1)],1)],1)],1)],1):e("b-button",{staticClass:"position-fixed",staticStyle:{bottom:"1em",right:"1em","font-size":"0.8em"},attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){t.showOpenAIkeyEntry=!0}}},[e("b-icon-key",{staticStyle:{width:"0.8em"}})],1),e("div",{staticClass:"mb-5"},[e("b-button",{ref:"generateButton",staticClass:"mt-2",attrs:{block:"",type:"submit",variant:t.generating?"light":"primary",disabled:t.generating||!t.openAIkey||!t.outputKeys.length||!t.inputValid,size:"lg"},on:{click:function(e){return t.generate()}}},[t.generating?e("span",[e("b-spinner",{staticClass:"mr-2",attrs:{small:""}}),t._v("Generating...")],1):e("span",[e("b-icon",{attrs:{icon:t.generated?"arrow-clockwise":"play"}}),t._v(t._s(t.generated?"Try again":"Try it!"))],1)]),e("span",{staticClass:"text-muted text-center small d-none d-lg-block"},[t._v("( Shift+Enter )")])],1)],1),e("b-col",{staticClass:"mt-2 mb-5 col-md-5"},[e("b-tabs",{attrs:{"no-fade":""}},[e("b-tab",{attrs:{title:"Request"}},[e("div",{staticClass:"rounded-top"},[e("pre",{staticClass:"mb-0"},[e("code",{class:"language-".concat(t.languageForFormat[t.format]),staticStyle:{"font-size":"0.8em","white-space":"pre-wrap"},domProps:{textContent:t._s(t.obfuscatedCode)}})])]),e("div",{staticClass:"d-flex justify-content-between"},[e("b-button-group",t._l(t.formats,(function(n){return e("b-button",{key:n,staticStyle:{"border-top-left-radius":"0","border-top-right-radius":"0"},attrs:{size:"sm",variant:n===t.format?"secondary":"outline-secondary"},on:{click:function(e){t.format=n}}},[t._v(t._s(n))])})),1),e("b-button",{staticClass:"text-muted",staticStyle:{"border-top-left-radius":"0","border-top-right-radius":"0"},attrs:{variant:"light",size:"sm"},on:{click:t.copyToClipboard}},[t._v(t._s(t.justCopied?"Copied!":"Copy to clipboard"))])],1)]),t.generated?e("b-tab",{ref:"generated",attrs:{title:"Response"}},[e("div",[e("pre",[e("code",{staticClass:"language-json",staticStyle:{"white-space":"pre-wrap","font-size":"0.9em","overflow-y":"auto"},domProps:{textContent:t._s(t.generated)}})])])]):t._e()],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);